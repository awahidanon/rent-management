<!DOCTYPE html>
<html>
<head>
    <title>Unpaid Tenants</title>
</head>
<body>
    <h1>Unpaid Tenants</h1>
    
    <form method="GET">
        <label for="month">Month:</label>
        <select name="month" id="month">
            <option value="">--Select Month--</option>
            {% for month in months %}
            <option value="{{ month }}" {% if request.GET.month == month|stringformat:"d" %}selected{% endif %}>
                {{ month|stringformat:"02d" }}
            </option>
            {% endfor %}
        </select>
        
        <label for="year">Year:</label>
        <select name="year" id="year">
            <option value="">--Select Year--</option>
            {% for year in years %}
            <option value="{{ year }}" {% if request.GET.year == year|stringformat:"d" %}selected{% endif %}>
                {{ year }}
            </option>
            {% endfor %}
        </select>
        
        <button type="submit">Filter</button>
    </form>
    
    <table>
        <tr>
            <th>Name</th>
            <th>Email</th>
            <th>Phone Number</th>
        </tr>
        {% for tenant in unpaid_tenants %}
        <tr>
            <td>{{ tenant.name }}</td>
            <td>{{ tenant.email }}</td>
            <td>{{ tenant.phone_number }}</td>
        </tr>
        {% endfor %}
    </table>
</body>
</html>
